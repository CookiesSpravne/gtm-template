___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Cookies Správně",
  "categories": [
    "TAG_MANAGEMENT",
    "PERSONALIZATION"
  ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Template for Cookie Správně CMP solution.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "licenseKey",
    "displayName": "Licenční klíč",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "language",
    "displayName": "Jazyk",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "cs",
        "displayValue": "Čeština"
      },
      {
        "value": "en",
        "displayValue": "English"
      },
      {
        "value": "sk",
        "displayValue": "Slovenčina"
      },
      {
        "value": "pl",
        "displayValue": "Polski"
      },
      {
        "value": "de",
        "displayValue": "Deutsch"
      },
      {
        "value": "hu",
        "displayValue": "Magyar"
      }
    ],
    "simpleValueType": true,
    "notSetText": "Automaticky"
  },
  {
    "type": "TEXT",
    "name": "waitForUpdate",
    "displayName": "wait_for_update - parametr pro default consent",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_NEGATIVE_NUMBER"
      }
    ],
    "defaultValue": 500
  },
  {
    "type": "CHECKBOX",
    "name": "adsRedaction",
    "checkboxText": "Ads Redaction",
    "simpleValueType": true,
    "defaultValue": false
  },
  {
    "type": "CHECKBOX",
    "name": "urlPassThrough",
    "checkboxText": "URL Pass Through",
    "simpleValueType": true,
    "defaultValue": false
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require("injectScript");
const queryPermission = require("queryPermission");
const setDefaultConsentState = require("setDefaultConsentState");
const encodeUri = require("encodeUri");
const JSON = require('JSON');
const gtagSet = require("gtagSet");
const getCookieValues = require("getCookieValues");
const updateConsentState = require("updateConsentState");
const dataLayerPush = require('createQueue')('dataLayer');
const logToConsole = require('logToConsole');

let setDefaultSetting = true;
const regionSettings = [];
const waitForUpdate = data.waitForUpdate;

function getConsentStateForCategory(categoryConsent) {
  return categoryConsent === "yes" ? "granted" : "denied";
}

function setConsentInitStates(consentData) {
  if (waitForUpdate > 0) consentData.wait_for_update = waitForUpdate;
  setDefaultConsentState(consentData);
}

gtagSet('ads_data_redaction', !!data.adsRedaction);
gtagSet('url_passthrough', !!data.urlPassThrough);
gtagSet('developer_id.dMGM1ZD', true);

/*
 *
 * Uncomment after implementing regional settings !!!!
 *

for (let index = 0; index < regionSettings.length; index++) {
  const regionSetting = regionSettings[index];
  const consentRegionData = {
    ad_storage: regionSetting.advertisement,
    analytics_storage: regionSetting.analytics,
    functionality_storage: regionSetting.functional,
    personalization_storage: regionSetting.functional,
    security_storage: regionSetting.security,
    ad_user_data: regionSetting.adUserData,
    ad_personalization: regionSetting.adPersonal
  };
  const regionsToSetFor = regionSetting.regions
    .split(",")
    .map((region) => region.trim())
    .filter((region) => region);
  if (regionsToSetFor.length > 0 && regionsToSetFor[0].toLowerCase() !== "all")
    consentRegionData.region = regionsToSetFor;
  else setDefaultSetting = false;
  setConsentInitStates(consentRegionData);
}

 *
 * Uncomment after implementing regional settings !!!!
 *
 */

// if (setDefaultSetting) {
  setConsentInitStates({
    ad_storage: "denied",
    analytics_storage: "denied",
    functionality_storage: "denied",
    personalization_storage: "denied",
    security_storage: "granted",
    ad_user_data: "denied",
    ad_personalization: "denied"
  });
// }

const consentString = getCookieValues("cc_cookie", false)[0];
if (consentString && typeof consentString === "string") {
  let cookieObj = {};
  const consentObj = JSON.parse(consentString);
  logToConsole(consentObj);
  logToConsole(consentObj.level);
  for (let i = 0; i < consentObj.level.length; i++) {
    cookieObj[consentObj.level[i]] = 'granted';
  }

  logToConsole(cookieObj);

  const updatedConsents = {
    ad_storage: cookieObj.marketing || 'denied',
    analytics_storage: cookieObj.analytics || 'denied',
    functionality_storage: 'granted',
    personalization_storage: cookieObj.ad_personalization || 'denied',
    security_storage: 'granted',
    ad_user_data: cookieObj.ad_user_data || 'denied',
    ad_personalization: cookieObj.ad_personalization || 'denied',
  };

  updateConsentState(updatedConsents);

  updatedConsents.event = 'gtm_consent_update';
  dataLayerPush(updatedConsents);
}

let scriptURL = "https://cookies-spravne.cz/static/cc_v2?key=" + data.licenseKey;
if (data.language) {
  scriptURL += '&lang=' + data.language;
}
if (!queryPermission("inject_script", scriptURL)) return data.gtmOnFailure();
injectScript(scriptURL, data.gtmOnSuccess, data.gtmOnFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "url_passthrough"
              },
              {
                "type": 1,
                "string": "ads_data_redaction"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "cc_cookie"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cookies-spravne.cz/static/cc*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 9/8/2025, 4:40:23 PM


